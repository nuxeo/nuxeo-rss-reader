<a4j:outputPanel xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:nxl="http://nuxeo.org/nxforms/layout"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  layout="block"
  id="rssFeedGadgetPanel">
  <h3>
    <h:outputText
        value="#{messages['tab.rss.gadget']}" />
  </h3>
  <h:form id="gadget_administration">
    <a4j:commandButton action="#{rssGadgetPreferenceActions.toggleForm}"
          value="#{messages['command.edit']}" immediate="true"
          styleClass="button" render="rssFeedGadgetPanel" rendered="#{!rssGadgetPreferenceActions.showForm}" />
    <nxl:layout name="rss_gadget" mode="#{nxu:test(rssGadgetPreferenceActions.showForm, 'edit', 'view')}"
      value="#{rssGadgetPreferenceActions.preference}" />
    <f:subview rendered="#{rssGadgetPreferenceActions.showForm}" id="buttonsGadgetView">
      <div class="buttonsGadget">
        <a4j:commandButton styleClass="button"
          value="#{messages['command.save']}"
          action="#{rssGadgetPreferenceActions.saveDocument}"
          render="rssFeedGadgetPanel,facesStatusMessagePanel" />
        <a4j:commandButton styleClass="button"
          value="#{messages['command.cancel']}"
          action="#{rssGadgetPreferenceActions.toggleForm}" immediate="true"
          render="rssFeedGadgetPanel" />
      </div>
    </f:subview>
  </h:form>
</a4j:outputPanel>
