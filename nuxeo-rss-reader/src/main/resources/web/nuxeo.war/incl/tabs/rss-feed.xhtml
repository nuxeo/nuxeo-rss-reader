<a4j:outputPanel xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:nxl="http://nuxeo.org/nxforms/layout"
  xmlns:nxu="http://nuxeo.org/nxweb/util"
  xmlns:c="http://java.sun.com/jstl/core"
  layout="block"
  id="rssFeedModelPanel">

  <f:subview id="rssFeedCreationForm"
    rendered="#{rssFeedActions.showCreateForm}">
    <h3>
      <h:outputText
        value="#{messages['title.create.document']} #{messages['label.rss.feed']}" />
    </h3>
    <h:form enctype="multipart/form-data" id="document_create">
      <nxl:documentLayout mode="create"
        value="#{rssFeedActions.currentDocument}" />
      <input type="hidden" name="parentDocumentPath"
        value="#{rssGadgetPreferenceActions.rssReaderManagementContainerPath}" />
      <p class="buttonsGadget">
        <a4j:commandButton styleClass="button"
          value="#{messages['command.create']}"
          action="#{rssFeedActions.saveDocument}" id="button_create"
          render="rssFeedModelPanel" />
        <a4j:commandButton styleClass="button"
          value="#{messages['command.cancel']}"
          action="#{rssFeedActions.toggleAndReset()}" immediate="true"
          render="rssFeedModelPanel" />
      </p>
    </h:form>

  </f:subview>

  <f:subview id="rssFeedEditForm"
    rendered="#{rssFeedActions.showEditForm}">
    <h3>
      <h:outputText
        value="#{messages['title.edit']} #{messages['label.rss.feed']}" />
    </h3>
    <h:form enctype="multipart/form-data" id="document_edit">
      <nxl:documentLayout mode="edit"
        value="#{rssFeedActions.currentDocument}" />
      <p class="buttonsGadget">
        <a4j:commandButton styleClass="button"
          value="#{messages['command.save']}"
          action="#{rssFeedActions.saveDocument}" id="button_edit"
          render="rssFeedModelPanel" />
        <a4j:commandButton styleClass="button"
          value="#{messages['command.cancel']}"
          action="#{rssFeedActions.toggleAndReset()}" immediate="true"
          render="rssFeedModelPanel" />
      </p>
    </h:form>

  </f:subview>

  <f:subview id="rssFeedListing" rendered="#{!rssFeedActions.showForm}">
    <style type="text/css">
.contentViewPageSelectorDesc {
  display: inline;
}
</style>
    <div class="action_bar">
      <h:form>
        <a4j:commandButton action="#{rssFeedActions.toggleForm()}"
          value="#{messages['label.rss.feed.create']}" immediate="true"
          styleClass="button" render="rssFeedModelPanel" />
      </h:form>
      <a4j:status>
        <f:facet name="start">
          <h:graphicImage value="/img/standart_waiter.gif" />
        </f:facet>
      </a4j:status>
    </div>
    <nxu:set var="contentViewName" value="rss_feed_management">
      <ui:decorate template="/incl/content_view.xhtml">
        <ui:define name="content_view_title">
        </ui:define>
      </ui:decorate>
    </nxu:set>
  </f:subview>

</a4j:outputPanel>
